<div class="form-container">

  <div class="form-header">
    <h2>{{ isEditMode() ? 'Modifier' : 'Créer' }} un Client</h2>
    <button class="btn-outline" (click)="goBack()">← Retour</button>
  </div>

  <form [formGroup]="clientForm" (ngSubmit)="onSubmit()" class="form-card">

    <h3 class="section-title">Informations Générales</h3>

    <div class="grid-2">
      <div class="form-group">
        <label>Nom *</label>
        <input type="text" formControlName="nom" placeholder="Nom complet">
        <small class="error" *ngIf="clientForm.get('nom')?.touched && clientForm.get('nom')?.errors?.['required']">
          Le nom est requis
        </small>
      </div>

      <div class="form-group">
        <label>Entreprise</label>
        <input type="text" formControlName="entreprise" placeholder="Nom de l'entreprise">
      </div>
    </div>

    <div class="grid-2">
      <div class="form-group">
        <label>Email *</label>
        <input type="email" formControlName="email" placeholder="email@example.com">
        <small class="error" *ngIf="clientForm.get('email')?.errors?.['required']">
          L'email est requis
        </small>
        <small class="error" *ngIf="clientForm.get('email')?.errors?.['email']">
          Email invalide
        </small>
      </div>

      <div class="form-group">
        <label>Téléphone *</label>
        <input type="tel" formControlName="telephone" placeholder="+216 XX XXX XXX">
        <small class="error" *ngIf="clientForm.get('telephone')?.touched && clientForm.get('telephone')?.errors?.['required']">
          Le téléphone est requis
        </small>
      </div>
    </div>

    <div class="form-group full">
      <label>Adresse</label>
      <textarea rows="3" formControlName="adresse" placeholder="Adresse complète"></textarea>
    </div>

    <div class="form-actions">
      <button type="button" class="btn-outline" (click)="goBack()">Annuler</button>

      <button class="btn-primary" type="submit" [disabled]="clientForm.invalid || submitting()">
        <span *ngIf="submitting()" class="loader"></span>
        {{ isEditMode() ? 'Mettre à jour' : 'Créer' }}
      </button>
    </div>
  </form>
</div>
